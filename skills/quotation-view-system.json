{
  "name": "quotation-view-system",
  "description": "Implements quotation view system with table display and filtering capabilities",
  "version": "1.1.0",
  "status": "completed",
  "created": "2025-01-19",
  "updated": "2026-01-20",
  "tags": ["quotation", "view", "table", "filter", "localStorage"],
  "components": {
    "frontend": {
      "files": ["public/index.html"],
      "functions": [
        "initializeQuotationViewPanel()",
        "displayQuotations()",
        "applyQuotationFilters()",
        "viewQuotationDetails()",
        "saveQuotationToStorage()",
        "loadQuotationsFromStorage()"
      ]
    }
  },
  "features": [
    {
      "name": "Quotation Storage System",
      "description": "localStorage-based quotation persistence system similar to customer storage",
      "implementation": "Uses JSON storage with unique IDs and timestamps"
    },
    {
      "name": "Table View with Filters",
      "description": "Responsive table displaying quotations with real-time filtering",
      "columns": [
        "Customer Name",
        "Contact Person",
        "Email",
        "Phone",
        "Product Type",
        "Quantity",
        "Total (HKD)",
        "Date Created"
      ]
    },
    {
      "name": "Advanced Filtering",
      "description": "Input fields for each column with real-time filtering",
      "filters": [
        "Text filters for customer, contact, email, phone",
        "Dropdown filter for product type",
        "Numeric filters for quantity and total",
        "Date filter for creation date"
      ]
    },
    {
      "name": "Enhanced Detail Modal",
      "description": "Quotation view modal using exact same form CSS as creation with dimmed read-only fields",
      "sections": [
        "Identical Form Layout (Customer, Product, Pricing fields)",
        "Dimmed Read-only Fields (All inputs disabled with visual styling)",
        "Images and Attachments (Separate sections below form)",
        "Status and Metadata Header (View mode indicator)"
      ],
      "features": [
        "Exact CSS replication from quotation creation form",
        "Enhanced dimming effect (opacity, background, cursor)",
        "Hidden action buttons (Save, Add Image, etc.)",
        "Proper field population for all quotation data types",
        "Scrollable modal with consistent styling"
      ]
    }
  ],
  "dependencies": [
    "localStorage API",
    "JSON parsing/stringification",
    "DOM manipulation",
    "Event handling"
  ],
    "data_structure": {
      "quotation": {
        "id": "number (timestamp)",
        "customerName": "string",
        "contactPerson": "string",
        "email": "string",
        "phone": "string",
        "productType": "string (hang-tag|woven-label|care-label|heat-transfer|others)",
        "productDetails": "object (material, size, printingMethod, etc.)",
        "quantity": "number",
        "unitPrice": "number",
        "total": "number",
        "notes": "string",
        "dateCreated": "ISO string",
        "status": "string (draft|approved|sent)",
        "images": "array of objects (optional) - [{name: string, url: string, size?: number}]",
        "attachments": "array of objects (optional) - [{name: string, url: string, size?: number, type?: string}]"
      }
    },
  "ui_components": {
    "quotationViewPanel": "Main container div with table and filters",
    "quotationsTable": "HTML table with filter inputs in headers",
    "filter-input": "CSS class for filter input styling",
    "refreshQuotationsBtn": "Button to reload quotation data"
  }
}


